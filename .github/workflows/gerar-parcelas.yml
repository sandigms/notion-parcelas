name: ğŸš€ Gerar Parcelas Notion

on:
  schedule:
     - cron: '*/10 * * * *'  # A cada 10 minutos
  
  workflow_dispatch:  # Permite rodar manualmente

jobs:
  gerar-parcelas:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ“¥ Baixar cÃ³digo
        uses: actions/checkout@v3
      
      - name: ğŸ Configurar Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      
      - name: ğŸ“¦ Instalar dependÃªncias
        run: pip install -r requirements.txt
      
      - name: ğŸš€ Executar gerador de parcelas
        env:
          NOTION_TOKEN: ${{ secrets.NOTION_TOKEN }}
        run: python gerador_parcelas.py
      
      - name: âœ… Finalizado
        run: echo "Processamento de parcelas concluÃ­do!"
